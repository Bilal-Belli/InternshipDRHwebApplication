<!doctype html>
<html>
<head>
    <title>Admin - Entreprise</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-success sticky-top">
        <button class="navbar-toggler bg-light" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
                <a class="nav-item nav-link text-light active" href="adminaccueil">Accueil<span class="sr-only">(current)</span></a>
                <a class="nav-item nav-link text-light" href="#section1">Gestion des Directions et Sous Directions</a>
                <a class="nav-item nav-link text-light" href="#section2">Gestion des Départements et Equipes</a>
            </div>
        </div>
        <button class="btn btn-outline-light my-2 my-sm-0"><a class="text-light" href="/">Déconnecter</a></button>
    </nav>
    <div class="container">
        <div class="py-3"></div>
        <div class="row" id="section1">
            <div class="breadcrumb breadcrumb-item active">
                Gestion des Directions et Sous Directions
            </div>
        </div>
        <div class="row">
            <div class="col d-flex justify-content-center">
                <button type="button" class="btn btn-success mb-3" style="max-width: 25rem; width: 25rem;" data-toggle="modal" data-target="#exampleModalCenter">
                    Ajouter une Direction
                </button>
            </div>
            <div class="col d-flex justify-content-center">
                <button type="button" class="btn btn-danger mb-3" style="max-width: 25rem; width: 25rem;" data-toggle="modal" data-target="#exampleModalCenter2">
                    Supprimer une Direction
                </button>
            </div>
        </div>
        <!-- Form 1: creer dir -->
        <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Ajouter une Direction</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <!-- here i put the form code -->
                        <form action="/ajouterDir" method="POST">
                            <div class="form-group d-flex">
                                <label class="col-sm-5 col-form-label">Nom Direction</label>
                                <input type="text" class="form-control rounded-left" name="nomDir" required>
                            </div>
                            <div class="form-group d-flex">
                                <label class="col-sm-5 col-form-label">Nom Sous Direction</label>
                                <input type="text" class="form-control rounded-left" name="nomSDir" required>
                            </div>
                            <div class="form-group"></div>
                            <button type="submit" id="submitBtn" class="form-control btn btn-success rounded submit px-3">Ajouter</button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Form 2: supprimer dir -->
        <div class="modal fade" id="exampleModalCenter2" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Supprimer une Direction</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <!-- here i put the form code -->
                        <form action="/ajouterDir" method="POST">
                            <div class="form-group d-flex">
                                <label class="col-sm-5 col-form-label">Direction</label>
                                <input type="text" class="form-control rounded-left" name="nomDir" required>
                            </div>
                            <div class="form-group"></div>
                            <button type="submit" id="submitBtn" class="form-control btn btn-danger rounded submit px-3">Supprimer</button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="py-3"></div>
        <div class="row">
            <table class="table table-hover table-responsive">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Direction</th>
                        <th scope="col">Sous Direction</th>
                        <th scope="col">Directeur</th>
                        <th scope="col">Sous Directeur</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <% data1.forEach(entry => { %>
                        <th scope="row"><%= entry.IDdirection %></th>
                        <td><%= entry.nomDirection %></td>
                        <td><%= entry.nomSousDirection %></td>
                        <td><%= entry.MatriculeDirecteur %></td>
                        <td><%= entry.MatriculeSousDirecteur %></td>
                    </tr>
                    <% }) %>
                </tbody>
            </table>
        </div>
        <div class="py-3"></div>
        <!--  -->
        <div class="row" id="section2">
            <div class="breadcrumb breadcrumb-item active">
                Gestion des Départements et Equipes
            </div>
        </div>
        <div class="row">
            <!-- <div class="col d-flex justify-content-center">
                <a href="ajouterDep" style="text-decoration:none;">
                    <div class="card text-white bg-success mb-3" style="max-width: 25rem; width: 25rem;">
                        <div class="card-body d-flex justify-content-center">
                            <p class="card-text">Ajouter un Département</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col d-flex justify-content-center">
                <a href="supprimerDep" style="text-decoration:none;">
                    <div class="card text-white bg-danger mb-3" style="max-width: 25rem; width: 25rem;">
                        <div class="card-body d-flex justify-content-center">
                            <p class="card-text">Supprimer un Département</p>
                        </div>
                    </div>
                </a>
            </div> -->
            <div class="col d-flex justify-content-center">
                <button type="button" class="btn btn-success mb-3" style="max-width: 25rem; width: 25rem;" data-toggle="modal" data-target="#exampleModalCenter3">
                    Ajouter un Département
                </button>
            </div>
            <div class="col d-flex justify-content-center">
                <button type="button" class="btn btn-danger mb-3" style="max-width: 25rem; width: 25rem;" data-toggle="modal" data-target="#exampleModalCenter4">
                    Supprimer un Département
                </button>
            </div>
        </div>
        <!-- Form 3: creer dep -->
        <div class="modal fade" id="exampleModalCenter3" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Ajouter un Département</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <!-- here i put the form code -->
                        <form action="/ajouterDep" method="POST">
                            <div class="form-group d-flex">
                                <label class="col-sm-4 col-form-label">Direction</label>
                                <select class="custom-select my-1 mr-sm-2" id="selectedD" name="selectedD">
                                    <% data1.forEach(entry => { %>
                                    <option value="<%= entry.IDdirection %>"><%= entry.IDdirection %></option>
                                    <% }) %>
                                </select>
                                <!-- <input type="hidden" id="condidatIDhidden" name="condidatIDhidden" value=""> -->
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control rounded-left" placeholder="Nom Département" name="nomDep" required>
                            </div>
                            <div class="form-group d-flex">
                                <label class="col-sm-4 col-form-label">ID Equipe</label>
                                <input type="text" class="form-control rounded-left" placeholder="ID Equipe" name="idE" id="idE" required>
                            </div>
                            <div class="form-group d-flex">
                                <label class="col-sm-6 col-form-label">Capacité de l'Equipe</label>
                                <input type="text" class="form-control rounded-left" placeholder="Capacité" name="capE" required>
                            </div>
                            <div class="form-group"></div>
                            <button type="submit" id="submitBtn" class="form-control btn btn-success rounded submit px-3">Ajouter</button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Form 4: supprimer dep -->
        <div class="modal fade" id="exampleModalCenter4" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Supprimer un Département</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <!-- here i put the form code -->
                        <form action="/ajouterDir" method="POST">
                            <div class="form-group d-flex">
                                <label class="col-sm-5 col-form-label">Département</label>
                                <input type="text" class="form-control rounded-left" name="nomDir" required>
                            </div>
                            <div class="form-group"></div>
                            <button type="submit" id="submitBtn" class="form-control btn btn-danger rounded submit px-3">Supprimer</button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <table class="table table-hover table-responsive">
                <thead>
                    <tr>
                        <!-- <th scope="col">ID Département</th> -->
                        <th scope="col">Direction</th>
                        <th scope="col">Département</th>
                        <th scope="col">ID Equipe</th>
                        <th scope="col">Capacité de l'Equipe</th>
                        <th scope="col">Email Chef Département</th>
                        <th scope="col">Email Chef Equipe</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <% data2.forEach(entry => { %>
                        <th scope="row"><%= entry.IDdirection %></th>
                        <td><%= entry.nomDepartement %></td>
                        <td><%= entry.IDequipe %></td>
                        <td><%= entry.capaciteEquipe %></td>
                        <td><%= entry.emailCompteChefDep %></td>
                        <td><%= entry.emailCompteChefEquipe %></td>
                    </tr>
                    <% }) %>
                </tbody>
            </table>
        </div>
    </div>
    <div class="py-3"></div>
    <div class="py-3"></div>
</body>
<footer class="fixed-bottom">
    <div class="bg-success">
        <div class="footer-copyright text-center py-2 text-light">
            © <script>document.write(new Date().getFullYear())</script> Copyright | Direction des resources Humaine - DRH
        </div>
    </div>
</footer>
<script>
    document.getElementById("idE").value = (Math.random() + 1).toString(36).substring(2);
</script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>    
</html>