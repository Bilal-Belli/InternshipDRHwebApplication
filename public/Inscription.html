<!doctype html>
<html>
<head>
    <title>DRH - Inscription</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- <link  rel="shortcut icon"  type="image/png"  href="" > -->
</head>
<body class="bg-image" 
style="background-image: url('backgrkound.png'); background-repeat: no-repeat;background-attachment: fixed;  background-size: cover;">
    <section class="ftco-section">
        <div class="container">
            <div class="row justify-content-center">
            <div class="col-md-6 text-center mb-5">
                <h5 class="heading-section0">Direction des resources Humaine - DRH</h2>
                <h5 class="heading-section0">GRH AWMT</h2>
            </div>
            </div>
            
            <div class="row justify-content-center">
            <div class="col-md-7 col-lg-5 bg-light shadow-lg rounded-left">
                <div class="login-wrap p-4 p-md-5">
                    <h3 class="text-center mb-4">Inscription</h3>
                    <form class="login-form"  id="myFormulaire" action="/compteReg" method="POST">
                        <!--  champ du nom -->
                        <div class="form-group">
                        <input type="text" class="form-control rounded-left" placeholder="Nom" id="nom" name="nom" required>
                        </div>
                        <!-- champ erreur nom -->
                        <div class="form-group d-flex" id = "ErreurMsg_nom" style="color:red; font-size: 11.5px;"></div>
                        <!-- champ du prenom -->
                        <div class="form-group">
                        <input type="text" class="form-control rounded-left" placeholder="Prénom" id="prenom" name="prenom" required>
                        </div>
                        <!-- champ erreur prenom -->
                        <div class="form-group d-flex" id = "ErreurMsg_prenom" style="color:red; font-size: 11.5px;"></div>
                        <!-- champ Email -->                         
                        <div class="form-group">
                        <input type="email" class="form-control rounded-left" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" placeholder="E-mail" required id="email" name="email">
                        </div>
                        <!-- champ erreur Email -->
                        <div class="form-group d-flex" id = "ErreurMsg_email" style="color:red; font-size: 11.5px;"></div>
                        <!-- champ Mot de Passe -->   
                        <div class="form-group d-flex">
                        <input type="password" class="form-control rounded-left" placeholder="Password" id="MotPasse1" required name="MotPasse1">
                        <!-- the eye that hide or show password -->
                        <a  id="icon-click1">
                        <i class="fa fa-eye-slash"  id="icon1" style="padding: 15px"></i></a> 
                        </div>
                        <!-- champ erreur Mot de Passe -->
                        <div class="form-group d-flex" id = "ErreurMsg_password_1" style="color:red; font-size: 11.5px;"></div>
                        <!-- champ confirmation Mot de Passe -->  
                        <div class="form-group d-flex">
                        <input type="password" class="form-control rounded-left" placeholder="Confirmer Mot de passe" required id="MotPasse2">
                        <!-- the eye that hide or show password -->
                        <a  id="icon-click2">
                        <i class="fa fa-eye-slash" id="icon2" style="padding: 15px"></i></a>
                        </div>
                        <!-- champ erreur Mot de Passe -->
                        <div class="form-group d-flex" id = "ErreurMsg_password_2" style="color:red; font-size: 11.5px;"></div>
                        <!-- le button -->  
                        <div class="form-group "></div>
                        <button type="submit" id="submitBtn" class="form-control btn btn-primary rounded submit px-3">inscrivez-vous</button>
                        </div>
                    </form>
                </div>
            </div>
            </div>
        </div>
    </section>
    <div class="p-4"></div>
    <div class="p-4"></div>
        <footer>
            <div class="fixed-bottom page-footer font-small bg-success">
            <div class=" footer-copyright text-center py-3 text-light">
                © <script>document.write(new Date().getFullYear())</script> Copyright | Direction des resources Humaine - DRH
            </div>
            </div>
        </footer>
    <script>
        // let validSubmit=false;
        const validSubmit = new Array(5).fill(false);
        $(document).ready(function() {
        $("#icon-click1").click(function() {
            var className = $("#icon1").attr('class');
            className = className.indexOf('slash') !== -1 ? 'fa fa-eye' : 'fa fa-eye-slash'
            $("#icon1").attr('class', className);
            var input = $("#MotPasse1");
            if (input.attr("type") == "text") {
            input.attr("type", "password");
            } else {
            input.attr("type", "text");
            }
        });
        });
        $(document).ready(function() {
        $("#icon-click2").click(function() {
            var className = $("#icon2").attr('class');
            className = className.indexOf('slash') !== -1 ? 'fa fa-eye' : 'fa fa-eye-slash'
            $("#icon2").attr('class', className);
            var input = $("#MotPasse2");
            if (input.attr("type") == "text") {
            input.attr("type", "password");
            } else {
            input.attr("type", "text");
            }
        });
        });
        $(document).ready(function() {
            $('#nom').on('input', function() {
                var input = $(this);
                var re = /^[A-Za-z]+$/;
                var is_name = input.val();
                if (is_name == "") { 
                    document.getElementById("ErreurMsg_nom").innerHTML = "Vous devez remplis ce champ";
                    input.removeClass("valid").addClass("invalid");
                    validSubmit[0]=false;
                } else {
                    if (!isNaN(is_name) || !re.test(is_name)) { 
                        document.getElementById("ErreurMsg_nom").innerHTML = "Le nom doit ne contient que des caracteres";
                        input.removeClass("valid").addClass("invalid");
                        validSubmit[0]=false;
                    } else {
                        input.removeClass("invalid").addClass("valid");
                        validSubmit[0]=true;
                        document.getElementById("ErreurMsg_nom").innerHTML = "";
                    }
                }
                if (validSubmit[0] == false || validSubmit[1] == false || validSubmit[2] == false || validSubmit[3] == false || validSubmit[4] == false){
                document.getElementById("submitBtn").disabled = true;
                } else {
                    document.getElementById("submitBtn").disabled = false;
                }
            });
            $('#prenom').on('input', function() {
                var input = $(this);
                var re = /^[A-Za-z]+$/;
                var is_prenom = input.val();
                if (is_prenom == "") {
                    document.getElementById("ErreurMsg_prenom").innerHTML = "Le nom ne doit contient que des caracteres";
                    input.removeClass("valid").addClass("invalid");
                    validSubmit[1]=false;
                } else {
                    if (!isNaN(is_prenom) || !re.test(is_prenom)) {
                        document.getElementById("ErreurMsg_prenom").innerHTML = "Le prenom ne doit contient que des caracteres";
                        input.removeClass("valid").addClass("invalid");
                        validSubmit[1]=false;
                    } else {
                        input.removeClass("invalid").addClass("valid");
                        validSubmit[1]=true;
                        document.getElementById("ErreurMsg_prenom").innerHTML = "";
                    }
                }
                if (validSubmit[0] == false || validSubmit[1] == false || validSubmit[2] == false || validSubmit[3] == false || validSubmit[4] == false){
                document.getElementById("submitBtn").disabled = true;
                } else {
                    document.getElementById("submitBtn").disabled = false;
                }
            });
            $('#email').on('input', function() {
                var input = $(this);
                var re = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]*$/;
                var is_email = input.val();
                if (is_email == "") {
                    document.getElementById("ErreurMsg_email").innerHTML = "Vous devez remplis ce champ";
                    input.removeClass("valid").addClass("invalid");
                    validSubmit[2]=false;
                } else {
                    if (re.test(is_email)) {
                        document.getElementById("ErreurMsg_email").innerHTML = "Vous devez respecter le format d'un Email";
                        input.removeClass("valid").addClass("invalid");
                        validSubmit[2]=false;
                    } else {
                        input.removeClass("invalid").addClass("valid");
                        validSubmit[2]=true;
                        document.getElementById("ErreurMsg_email").innerHTML = "";
                    }
                }
                if (validSubmit[0] == false || validSubmit[1] == false || validSubmit[2] == false || validSubmit[3] == false || validSubmit[4] == false){
                document.getElementById("submitBtn").disabled = true;
                } else {
                    document.getElementById("submitBtn").disabled = false;
                }
            });
            $('#MotPasse1').on('input', function() {
                var input = $(this);
                var is_password = input.val();
                if (is_password == "") {
                    document.getElementById("ErreurMsg_password_1").innerHTML = "Veuillez entrer un mot de passe";
                    input.removeClass("valid").addClass("invalid");
                    validSubmit[3]=false;
                } else {
                    if (is_password.length < 8) {
                        document.getElementById("ErreurMsg_password_1").innerHTML = "Le mot de passe est plus de 8 caractères";
                        input.removeClass("valid").addClass("invalid");
                        validSubmit[3]=false;
                    } else {
                        if (is_password.length > 16) {
                            document.getElementById("ErreurMsg_password_1").innerHTML = "Le mot de passe ne dépasse pas 16 caractères";
                            input.removeClass("valid").addClass("invalid");
                            validSubmit[3]=false;
                        } else {
                            input.removeClass("invalid").addClass("valid");
                            validSubmit[3]=true;
                            document.getElementById("ErreurMsg_password_1").innerHTML = "";
                        }
                    }
                }
                if (validSubmit[0] == false || validSubmit[1] == false || validSubmit[2] == false || validSubmit[3] == false || validSubmit[4] == false){
                document.getElementById("submitBtn").disabled = true;
                } else {
                    document.getElementById("submitBtn").disabled = false;
                }
            });
            $('#MotPasse2').on('input', function() {
                var input = $(this);
                var input_2 = $(MotPasse1);
                var pw2 = input.val();
                var pw1 = input_2.val();
                if (pw1 != pw2) {
                    document.getElementById("ErreurMsg_password_2").innerHTML = "Les deux Mots de passes ne sont pas identiques";
                    input.removeClass("valid").addClass("invalid");
                    validSubmit[4]=false;
                } else {
                    input.removeClass("invalid").addClass("valid");
                    validSubmit[4]=true;
                    document.getElementById("ErreurMsg_password_2").innerHTML = "";
                }
                if (validSubmit[0] == false || validSubmit[1] == false || validSubmit[2] == false || validSubmit[3] == false || validSubmit[4] == false){
                document.getElementById("submitBtn").disabled = true;
                } else {
                    document.getElementById("submitBtn").disabled = false;
                }
            });
        });
    </script> 
</body>
</html>